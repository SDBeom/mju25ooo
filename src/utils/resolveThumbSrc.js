// Import all 작품번호_01 images
import loveHero from '../assets/김윤정/김윤정_Video_작품1_01.webp';
import goodbyeUniverseHero from '../assets/김윤정/김윤정_Video_작품2_01.webp';
import kimJaeEunWork1 from '../assets/김재은/김재은_Video_작품1_01.webp';
import kimJaeEunWork2 from '../assets/김재은/김재은_Video_작품2_01.webp';
import kimJinaWork1 from '../assets/김지나/김지나_멀티미디어_작품1_01.webp';
import kimJinaWork2 from '../assets/김지나/김지나_멀티미디어_작품2_01.webp';
import kimChaeyoungWork1 from '../assets/김채영/김채영_멀티미디어_작품1_01.webp';
import kimChaeyoungWork2 from '../assets/김채영/김채영_멀티미디어_작품2_01.webp';
import dotianhongIsometric from '../assets/도티안홍/도티안홍_영상콘텐츠_작품1_01.webp';
import dotianhongAnimated from '../assets/도티안홍/도티안홍_영상콘텐츠_작품2_01.webp';
import parkJinaCrossCooty from '../assets/박진아/박진아_멀티미디어_작품1_01.webp';
import parkJinaRemain from '../assets/박진아/박진아_멀티미디어_작품2_01.webp';
import parkHaeinChrome from '../assets/박해인/박해인_모션디자인_작품1_01.webp';
import parkHeechanPledge from '../assets/박희찬/박희찬_게임콘텐츠_작품1_01.webp';
import parkHeechanReel from '../assets/박희찬/박희찬_게임콘텐츠_작품2_01.webp';
import seoDongbeomHiFive from '../assets/서동범/서동범_멀티미디어_작품1_01.webp';
import songDaheeCardOfLove from '../assets/송다희/송다희_영상콘텐츠_작품1_01.webp';
import songDaheePeony from '../assets/송다희/송다희_영상콘텐츠_작품2_01.webp';
import simSeongbinBoom from '../assets/심성빈/심성빈_영상콘텐츠_작품1_01.webp';
import simSeongbinLinked from '../assets/심성빈/심성빈_영상_작품2_01.webp';
import anSeonminDesktop from '../assets/안선민/안선민_브랜딩_작품101.webp';
import wooSuminSasinDo from '../assets/우수민/우수민_멀티미디어_작품1_01.webp';
import wooSuminLiminal from '../assets/우수민/우수민_멀티미디어_작품2_01.webp';
import leeGabiWork1 from '../assets/이가비/이가비_게임콘텐츠_작품1_01.webp';
import leeGabiWork2 from '../assets/이가비/이가비_게임콘텐츠_작품2_01.webp';
import leeDayoungReadyToMerry from '../assets/이다영/이다영_멀티미디어_작품1_01.webp';
import leeDayoungPlottingRoom from '../assets/이다영/이다영_모션디자인_작품2_01.webp';
import leeWoon9e9e9e from '../assets/이운/이운_멀티미디어_작품1_01.webp';
import leeWoonLayered from '../assets/이운/이운_멀티미디어_작품2_01.webp';
import leeJiminVenetiCharacter from '../assets/이지민/이지민_멀티미디어_작품1_01.webp';
import leeJiminVenetiPerfume from '../assets/이지민/이지민_모션디자인_작품2_01.webp';
import jeonGiTaeDolor from '../assets/전기태/전기태_게임콘텐츠_작품1_01.webp';
import jeonGiTaeWarOrb from '../assets/전기태/전기태_게임콘텐츠_작품2_01.webp';
import jeonSeorinKaron from '../assets/전서린/전서린_게임콘텐츠_작품1_01.webp';
import jeonSeorinRavenX from '../assets/전서린/전서린_게임디자인_작품2_01.webp';
import jungJiminTheGothic from '../assets/정지민/정지민_게임콘텐츠_작품1_01.webp';
import jungJiminTheWeapon from '../assets/정지민/정지민_게임콘텐츠_작품2_01.webp';
import joHaneulYouth from '../assets/조하늘/조하늘_모션디자인_작품1_01.webp';
import joHaneulReason from '../assets/조하늘/조하늘_영상콘텐츠_작품2_01.webp';
import heoJiHoonMaster from '../assets/허지훈/허지훈_모션디자인_작품1_01.webp';
import heoJiHoonEternal from '../assets/허지훈/허지훈_모션디자인_작품2_01.webp';

// Map work titles to their 작품번호_01 images
const workThumbnailMap = {
  '안녕, 우주': goodbyeUniverseHero,
  '안녕 우주': goodbyeUniverseHero,
  'Love at Rust Sight': loveHero,
  'PETRICHOR': kimJaeEunWork2,
  'Go Fetch!': kimJaeEunWork1,
  'Cellestial': kimJinaWork2,
  'Caravan': kimJinaWork1,
  '운명을 믿으세요?': kimChaeyoungWork1,
  '사이버 제사상': kimChaeyoungWork2,
  'SEE TINH (Isometric)': dotianhongIsometric,
  '"SEE TINH" ISOMETRIC': dotianhongIsometric,
  'SEE TINH (Animated MV)': dotianhongAnimated,
  '"SEE TINH" ANIMATED MUSIC VIDEO': dotianhongAnimated,
  'CROSS.COOTY': parkJinaCrossCooty,
  'Cross Cooty': parkJinaCrossCooty,
  'Remains': parkJinaRemain,
  'Chrome 4: Seasons': parkHaeinChrome,
  '2025 Animation Reel': parkHeechanReel,
  'PLEDGE': parkHeechanPledge,
  'HiFive': seoDongbeomHiFive,
  'Abyss Racing: 세이렌의 보물': leeGabiWork1,
  'Overcooked: 카페대소동': leeGabiWork2,
  'A Card of Love': songDaheeCardOfLove,
  'A card of love': songDaheeCardOfLove,
  'Peony': songDaheePeony,
  'Linked': simSeongbinLinked,
  'BOOM': simSeongbinBoom,
  '피에르 위그: 리미널 가이드앱 UX/UI': wooSuminLiminal,
  '피에르 위그: <리미널 Liminal> 가이드앱 UX/UI': wooSuminLiminal,
  '四神圖 (사신도)': wooSuminSasinDo,
  'Ready to Merry': leeDayoungReadyToMerry,
  'Floating Room': leeDayoungPlottingRoom,
  '플롯팅룸': leeDayoungPlottingRoom,
  '9e9e9e': leeWoon9e9e9e,
  'Layered': leeWoonLayered,
  'LE LABO - City Exclusive': leeJiminVenetiPerfume,
  'Veneti (베네티)': leeJiminVenetiCharacter,
  '돌로르사가': jeonGiTaeDolor,
  '돌로르사가 (Dolor Saga)': jeonGiTaeDolor,
  'War Orb': jeonGiTaeWarOrb,
  '워오브 (War Orb)': jeonGiTaeWarOrb,
  'Karon': jeonSeorinKaron,
  'RAVEN-X': jeonSeorinRavenX,
  '더 고딕': jungJiminTheGothic,
  '더 웨폰': jungJiminTheWeapon,
  'The Reason that I Live': joHaneulReason,
  '청춘몽': joHaneulYouth,
  '青春夢': joHaneulYouth,
  'Eternal Vision': heoJiHoonEternal,
  'Master your Imagination': heoJiHoonMaster,
  '[점점점] 메인 영상': anSeonminDesktop,
};

// Fallback to Thumb folder for backward compatibility
// Use try-catch to handle case where Thumb folder doesn't exist
let thumbImports = {};
try {
  thumbImports = import.meta.glob('../assets/Thumb/*.webp', {
    eager: true,
    import: 'default',
  }) || {};
} catch {
  // Thumb folder doesn't exist or is empty - use empty object
  thumbImports = {};
}

const normalizeKey = (filePath) => filePath.replace(/\\/g, '/');

export const resolveThumbSrc = (file, title) => {
  // If title is provided, use 작품번호_01 image
  if (title && workThumbnailMap[title]) {
    return workThumbnailMap[title];
  }

  // Fallback to original Thumb folder logic
  if (!file) {
    return '';
  }

  // If thumbImports is empty (folder doesn't exist), return empty string
  const thumbKeys = Object.keys(thumbImports);
  if (thumbKeys.length === 0) {
    return '';
  }

  const normalized = normalizeKey(file);
  const directKey = `../assets/Thumb/${normalized}`;

  if (thumbImports[directKey]) {
    return thumbImports[directKey];
  }

  const fallbackKey = thumbKeys.find((key) => key.endsWith(`/${normalized}`));
  return fallbackKey ? thumbImports[fallbackKey] : '';
};

export default resolveThumbSrc;
